{{ define "main" }}
  <h1>Lectures</h1>
  <style>
      .delimiter:last-child {
        display: none;
      }
  </style>
  <table>
      <thead>
      <tr>
          <th>Date</th>
          <th>Topic</th>
          <th>Slides</th>
          <th>Assignments Due</th>
      </tr>
      </thead>
      <tbody>
        {{ range sort .Pages.ByDate }}
          <tr>
            <td>{{ dateFormat "1/2" .Date }}</td>
            {{ if le .Date now }}
            <td><a href="{{ .Permalink }}">{{ .Title }}</a></td>
            {{ if ne .Params.slides "" }}
            <td><a href="{{ .Params.slides }}" target="_blank">Slides</a></td>
            {{ else }}
            <td> N/A</td>
            {{ end }}
            {{ else }}
            <td>{{ .Title }}</td>
            <td> N/A</td>
            {{ end }}
            <td>
            {{ range $asst := .Params.assignments }}
                {{ $path := $asst | printf "/homeworks/%s" | printf "%s" }}
                {{ with $.Site.GetPage $path }}
                    <!--
                      <a href="{{ .Permalink }}">{{ .Title }}</a>
                    -->
                    {{ $asst | upper }}: {{ .Title }}
                {{ end }}
                <span class="delimiter"> | </span>
            {{ else }}
                N/A
            {{ end }}
            </td>
          </tr>
        {{ end }}
      </tbody>
  </table>

{{ end }}
